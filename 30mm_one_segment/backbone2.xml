<?xml version="1.0"?>
<mujoco model="continuum_sers_core">
  <compiler angle="degree" coordinate="local"/>
  <option integrator="Euler" timestep="0.001"/>

    <default>
        <!-- 회전 스프링/댐핑: 모든 힌지에 적용 -->
        <!-- stiffness 단위: N·m/rad, damping: N·m·s/rad -->
        <joint limited="true" range="-4 4"
                stiffness="0.04" damping="0.005" armature="0.0001"/>
        <geom type="capsule" size="0.005" density="1000"
                friction="0.8 0.1 0.01" rgba="0.8 0.8 0.8 1"/>
    </default>
  <worldbody>
    <body name="base" pos="0 0 0">
      <!-- ================= SEGMENT 1 ================= -->
      <body name="seg1_base" pos="0 0 0.000">
        <body name="seg1_v1" pos="0 0 0">
          <geom name="seg1_v1_geom" fromto="0 0 0  0 0 0.012"/>
          <joint name="seg1_j1_pitch" type="hinge" axis="1 0 0"/>
            <joint name="seg1_j1_yaw" type="hinge" axis="0 1 0"/>
          <body name="seg1_v2" pos="0 0 0.012">
            <geom name="seg1_v2_geom" fromto="0 0 0  0 0 0.012" />
            <joint name="seg1_j2_yaw" type="hinge" axis="0 1 0"/>

            <body name="seg1_v3" pos="0 0 0.012">
              <geom name="seg1_v3_geom" fromto="0 0 0  0 0 0.012" />
              <joint name="seg1_j3_pitch" type="hinge" axis="1 0 0"/>

              <body name="seg1_v4" pos="0 0 0.012">
                <geom name="seg1_v4_geom" fromto="0 0 0  0 0 0.012" />
                <joint name="seg1_j4_yaw" type="hinge" axis="0 1 0"/>

                <body name="seg1_v5" pos="0 0 0.012">
                  <geom name="seg1_v5_geom" fromto="0 0 0  0 0 0.012" />
                  <joint name="seg1_j5_pitch" type="hinge" axis="1 0 0"/>

                  <body name="seg1_v6" pos="0 0 0.012">
                    <geom name="seg1_v6_geom" fromto="0 0 0  0 0 0.012" />
                    <joint name="seg1_j6_yaw" type="hinge" axis="0 1 0"/>

                    <body name="seg1_v7" pos="0 0 0.012">
                      <geom name="seg1_v7_geom" fromto="0 0 0  0 0 0.012" />
                      <joint name="seg1_j7_pitch" type="hinge" axis="1 0 0"/>

                      <body name="seg1_v8" pos="0 0 0.012">
                        <geom name="seg1_v8_geom" fromto="0 0 0  0 0 0.012"/>
                        <joint name="seg1_j8_yaw" type="hinge" axis="0 1 0"/>

                        <body name="seg1_v9" pos="0 0 0.012">
                          <geom name="seg1_v9_geom" fromto="0 0 0  0 0 0.012" />
                          <body name="seg1_v10" pos="0 0 0.012">
                            <geom name="seg1_v10_geom" fromto="0 0 0  0 0 0.012" />

                            <!-- ================= SEGMENT 2 ================= -->
                            <body name="seg2_base" pos="0 0 0.005">
                              <body name="seg2_v1" pos="0 0 0.012">
                                <geom name="seg2_v1_geom" fromto="0 0 0  0 0 0.012"/>
                                <joint name="seg2_j1_pitch" type="hinge" axis="1 0 0"/>

                                <body name="seg2_v2" pos="0 0 0.012">
                                  <geom name="seg2_v2_geom" fromto="0 0 0  0 0 0.012"/>
                                  <joint name="seg2_j2_yaw" type="hinge" axis="0 1 0"/>

                                  <body name="seg2_v3" pos="0 0 0.012">
                                    <geom name="seg2_v3_geom" fromto="0 0 0  0 0 0.012"/>
                                    <joint name="seg2_j3_pitch" type="hinge" axis="1 0 0"/>

                                    <body name="seg2_v4" pos="0 0 0.012">
                                      <geom name="seg2_v4_geom" fromto="0 0 0  0 0 0.012"/>
                                      <joint name="seg2_j4_yaw" type="hinge" axis="0 1 0"/>

                                      <body name="seg2_v5" pos="0 0 0.012">
                                        <geom name="seg2_v5_geom" fromto="0 0 0  0 0 0.012"/>
                                        <joint name="seg2_j5_pitch" type="hinge" axis="1 0 0"/>

                                        <body name="seg2_v6" pos="0 0 0.012">
                                          <geom name="seg2_v6_geom" fromto="0 0 0  0 0 0.012"/>
                                          <joint name="seg2_j6_yaw" type="hinge" axis="0 1 0"/>

                                          <body name="seg2_v7" pos="0 0 0.012">
                                            <geom name="seg2_v7_geom" fromto="0 0 0  0 0 0.012"/>
                                            <joint name="seg2_j7_pitch" type="hinge" axis="1 0 0"/>

                                            <body name="seg2_v8" pos="0 0 0.012">
                                              <geom name="seg2_v8_geom" fromto="0 0 0  0 0 0.012"/>
                                              <joint name="seg2_j8_yaw" type="hinge" axis="0 1 0"/>

                                              <body name="seg2_v9" pos="0 0 0.012">
                                                <geom name="seg2_v9_geom" fromto="0 0 0  0 0 0.012"/>
                                                <body name="seg2_v10" pos="0 0 0.012">
                                                  <geom name="seg2_v10_geom" fromto="0 0 0  0 0 0.012"/>

                                                  <!-- ================= SEGMENT 3 ================= -->
                                                  <body name="seg3_base" pos="0 0 0.005">
                                                    <body name="seg3_v1" pos="0 0 0.012">
                                                      <geom name="seg3_v1_geom" fromto="0 0 0  0 0 0.012"/>
                                                      <joint name="seg3_j1_pitch" type="hinge" axis="1 0 0"/>

                                                      <body name="seg3_v2" pos="0 0 0.012">
                                                        <geom name="seg3_v2_geom" fromto="0 0 0  0 0 0.012"/>
                                                        <joint name="seg3_j2_yaw" type="hinge" axis="0 1 0"/>

                                                        <body name="seg3_v3" pos="0 0 0.012">
                                                          <geom name="seg3_v3_geom" fromto="0 0 0  0 0 0.012"/>
                                                          <joint name="seg3_j3_pitch" type="hinge" axis="1 0 0"/>

                                                          <body name="seg3_v4" pos="0 0 0.012">
                                                            <geom name="seg3_v4_geom" fromto="0 0 0  0 0 0.012"/>
                                                            <joint name="seg3_j4_yaw" type="hinge" axis="0 1 0"/>

                                                            <body name="seg3_v5" pos="0 0 0.012">
                                                              <geom name="seg3_v5_geom" fromto="0 0 0  0 0 0.012"/>
                                                              <joint name="seg3_j5_pitch" type="hinge" axis="1 0 0"/>

                                                              <body name="seg3_v6" pos="0 0 0.012">
                                                                <geom name="seg3_v6_geom" fromto="0 0 0  0 0 0.012"/>
                                                                <joint name="seg3_j6_yaw" type="hinge" axis="0 1 0"/>

                                                                <body name="seg3_v7" pos="0 0 0.012">
                                                                  <geom name="seg3_v7_geom" fromto="0 0 0  0 0 0.012"/>
                                                                  <joint name="seg3_j7_pitch" type="hinge" axis="1 0 0"/>

                                                                  <body name="seg3_v8" pos="0 0 0.012">
                                                                    <geom name="seg3_v8_geom" fromto="0 0 0  0 0 0.012"/>
                                                                    <joint name="seg3_j8_yaw" type="hinge" axis="0 1 0"/>

                                                                    <body name="seg3_v9" pos="0 0 0.012">
                                                                      <geom name="seg3_v9_geom" fromto="0 0 0  0 0 0.012"/>
                                                                      <body name="seg3_v10" pos="0 0 0.012">
                                                                        <geom name="seg3_v10_geom" fromto="0 0 0  0 0 0.012"/>
                                                                      </body>
                                                                    </body>
                                                                  </body>
                                                                </body>
                                                              </body>
                                                            </body>
                                                          </body>
                                                        </body>
                                                      </body>
                                                    </body>
                                                  </body>

                                                </body>
                                              </body>
                                            </body>
                                          </body>
                                        </body>
                                      </body>
                                    </body>
                                  </body>
                                </body>
                              </body>

                            </body>
                          </body>
                        </body>

                      </body>
                    </body>
                  </body>
                </body>
              </body>
            </body>
          </body>
        </body>
      </body>
    </body>
  </worldbody>
  <actuator>
    <position name="u_seg1_j1" joint="seg1_j1_pitch" kp="200" ctrlrange="-0.5 0.5"/>
    <position name="u_seg1_j2" joint="seg1_j2_yaw"   kp="200" ctrlrange="-0.5 0.5"/>

    <position name="u_seg2_j1" joint="seg2_j1_pitch" kp="200" ctrlrange="-0.5 0.5"/>
    <position name="u_seg2_j2" joint="seg2_j2_yaw"   kp="200" ctrlrange="-0.5 0.5"/>
    
    <position name="u_seg3_j1" joint="seg3_j1_pitch" kp="200" ctrlrange="-0.5 0.5"/>
    <position name="u_seg3_j2" joint="seg3_j2_yaw"   kp="200" ctrlrange="-0.5 0.5"/>
</actuator>
</mujoco>
